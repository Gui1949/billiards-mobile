(this.webpackJsonpbilliards=this.webpackJsonpbilliards||[]).push([[0],Array(22).concat([function(e,t,n){e.exports=n.p+"static/media/cloth.d65b9f45.jpg"},function(e,t,n){e.exports=n.p+"static/media/hardwood_floor.418f71e5.jpg"},function(e,t,n){e.exports=n.p+"static/media/0.e448b315.png"},function(e,t,n){e.exports=n.p+"static/media/1.0d1adf35.png"},function(e,t,n){e.exports=n.p+"static/media/2.9be16ecf.png"},function(e,t,n){e.exports=n.p+"static/media/3.248246c1.png"},function(e,t,n){e.exports=n.p+"static/media/4.5164ac33.png"},function(e,t,n){e.exports=n.p+"static/media/5.053b4de0.png"},function(e,t,n){e.exports=n.p+"static/media/6.ba87c3ae.png"},function(e,t,n){e.exports=n.p+"static/media/7.67436792.png"},function(e,t,n){e.exports=n.p+"static/media/8.828ce1c4.png"},function(e,t,n){e.exports=n.p+"static/media/9.435dd3d6.png"},function(e,t,n){e.exports=n.p+"static/media/10.c75ecd31.png"},function(e,t,n){e.exports=n.p+"static/media/11.78cb5f35.png"},function(e,t,n){e.exports=n.p+"static/media/12.cee778bb.png"},function(e,t,n){e.exports=n.p+"static/media/13.0c63b38f.png"},function(e,t,n){e.exports=n.p+"static/media/14.0b65be63.png"},function(e,t,n){e.exports=n.p+"static/media/15.b11742ec.png"},,function(e,t,n){e.exports=n.p+"static/media/ic_code.1c9bd072.svg"},,,function(e,t,n){e.exports=n(59)},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(15),i=n.n(a),c=n(2),s=n(3),u=n(4),p=n(5);function l(){var e=Object(s.a)(["\n  position: absolute !important;\n  top: 0;\n  left: 0;\n"]);return l=function(){return e},e}function d(){var e=Object(s.a)(["\n  position: fixed;\n  height: 24px;\n  width: 24px;\n  bottom: 16px;\n  right: 16px;\n  padding: 12px;\n  border-radius: 50%;\n  margin-bottom: 0px;\n  background-color: #fff;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center center;\n  opacity: 0.9;\n  z-index: 999;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.15);\n  :hover {\n    cursor: pointer;\n    opacity: 1;\n  }\n"]);return d=function(){return e},e}function f(){var e=Object(s.a)(['\n  body {\n    margin: 0;\n    background: black;\n    font-family: "-apple-system", "BlinkMacSystemFont", "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "sans-serif";\n  }\n']);return f=function(){return e},e}var m=Object(u.a)(f()),h=u.b.div(d(),(function(e){return e.src})),b=Object(u.b)(p.a)(l());function x(){var e=Object(s.a)(["\n  height: 24px;\n  width: 48px;\n  margin: 30px auto;\n  background: black;\n  color: white;\n  padding: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n\n  :hover {\n    box-shadow: 2px 2px 2px black;\n  }\n"]);return x=function(){return e},e}function g(){var e=Object(s.a)(["\n  color: black;\n  font-size: 24px;\n  font-weight: bolder;\n"]);return g=function(){return e},e}function y(){var e=Object(s.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  height: 290px;\n  width: calc(100vw - 40%);\n  margin: 0 auto;\n  background-color: white;\n  padding: 20px;\n  border-radius: 30px;\n  text-align: center;\n"]);return y=function(){return e},e}function R(){var e=Object(s.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100vh;\n  width: 100vw;\n  background: grey;\n  opacity: 0.5;\n  z-index: 100;\n"]);return R=function(){return e},e}var v=u.b.div(R()),w=u.b.div(y()),E=u.b.span(g()),M=u.b.div(x());function j(e){var t=e.handler;return o.a.createElement(v,null,o.a.createElement(w,null,o.a.createElement(E,null,"Please press space bar to hit the cue ball. You'll be able to play multiple shots with this version. Also, whenever a ball hits a pocket it will be taken of the table and shown on the upper right of the screen. However, currently there isn't a way to change the direction of the cue and hence the cue ball will only go in one direction.Ah and yes along side translation motion, the balls with transfer rotational motion on collisions."),o.a.createElement(M,{onClick:t},"Ok")))}j.defaultProps={handler:function(){}};function O(e){var t=e.type;return o.a.createElement(t,e)}O.defaultProps={position:[]};var L=O,k=n(1),P=n(22),U=n.n(P),S=n(23),T=n.n(S);var B=function(){var e=Object(r.useMemo)((function(){return(new k.TextureLoader).load(U.a)}),[]);e.wrapS=k.RepeatWrapping,e.wrapT=k.RepeatWrapping,e.offset.set(0,0),e.repeat.set(3,6);var t=new k.MeshStandardMaterial({map:e,color:4368639,roughness:.4,metalness:0,bumpScale:1}),n=Object(r.useMemo)((function(){return(new k.TextureLoader).load(T.a)}),[]),a=new k.BoxGeometry(1,22,1),i=new k.BoxGeometry(22,1,1),c=new k.MeshStandardMaterial({map:n}),s=new k.Shape;s.moveTo(0,0),s.lineTo(0,22),s.lineTo(.5,21.2),s.lineTo(.5,.8),s.lineTo(0,0);var u=new k.ExtrudeGeometry(s,{steps:1,depth:1,bevelEnabled:!1}),p=new k.CylinderGeometry(1,1,1.4,20),l=new k.MeshBasicMaterial({color:0});return o.a.createElement("object3D",{position:[0,0,-1]},o.a.createElement("mesh",{receiveShadow:!0},o.a.createElement("boxGeometry",{attach:"geometry",args:[24,48,1]}),o.a.createElement("meshStandardMaterial",{attach:"material",color:4368639,roughness:.4,metalness:0,bumpScale:1,map:e})),[[-12.5,12,.7],[12.5,12,.7],[-12.5,-12,.7],[12.5,-12,.7]].map((function(e,t){var n=t;return o.a.createElement("mesh",{key:n,args:[a,c],position:e})})),[[0,24.5,.7],[0,-24.5,.7]].map((function(e,t){var n=t;return o.a.createElement("mesh",{key:n,args:[i,c],position:e})})),[[-12,1,.2],[12,1,1.2],[-12,-23,.2],[12,-23,1.2]].map((function(e,n){var r=n;return o.a.createElement("mesh",{key:r,args:[u,t],position:e,rotation:1===r||3===r?[0,180*Math.PI/180,0]:[0,0,0]})})),[[-11,24,.2],[11,-24,.2]].map((function(e,n){var r=n;return o.a.createElement("mesh",{key:r,args:[u,t],position:e,rotation:0===r?[0,0,-90*Math.PI/180,0]:[0,0,90*Math.PI/180,0]})})),[[-12,24,0],[12,24,0],[-12.5,0,0],[12.5,0,0],[-12,-24,0],[12,-24,0]].map((function(e,t){var n=t;return o.a.createElement("mesh",{key:n,args:[p,l],position:e,rotation:[1.5708,0,0]})})))};function C(e){var t=e.setRef,n=e.cueRef,r=e.position;return o.a.createElement("mesh",{ref:t,cueBallRef:n,speed:.6,position:r,castShadow:!0})}C.defaultProps={setRef:{},cueRef:{},position:[0,0,0]};var I=C;function V(e){var t=e.setRef,n=e.position,a=e.textureURL,i=Object(r.useMemo)((function(){return(new k.TextureLoader).load(a)}),[a]);return o.a.createElement("mesh",{ref:t,position:n,speed:new k.Vector2,castShadow:!0},o.a.createElement("sphereGeometry",{attach:"geometry",args:[.5,128,128]}),o.a.createElement("meshStandardMaterial",{attach:"material",color:16777215,roughness:.25,metalness:0,map:i}))}V.defaultProps={setRef:{},position:[],textureURL:""};var z=V,A={pointLightPositions:[[-5,-12,20],[5,-12,20],[-5,12,20],[5,12,20]],tableDimensions:{topLeft:{x:-12,y:24},topRight:{x:12,y:24},bottomLeft:{x:-12,y:-24},bottomRight:{x:12,y:-24}}};new k.Vector3,new k.Vector3,new k.Plane,new k.Vector2,new k.Raycaster,new k.Vector3,new k.Vector3(0,-16,0);var D={shoot:function(e,t,n,r,o){t.current.speed.y>.003||t.current.speed.y,console.log(t),console.log(r),t.current.rotation.set(0,0,0);var a=n.clientX||n.targetTouches[0].clientX,i=n.clientY||n.targetTouches[0].clientY;a=a/window.innerWidth*2-1,i=-i/window.innerHeight*2+1;var c=t.current.position.x,s=t.current.position.y,u=new k.Vector3(a,i,.5);console.log(r),u.unproject(r);var p=u.sub(r.position).normalize(),l=-r.position.z/p.z,d=r.position.clone().add(p.multiplyScalar(l)),f=d.x,m=d.y,h=Math.atan2(m-s,f-c),b=Math.cos(h)*e,x=Math.sin(h)*e;t.current.speed.x=b,t.current.speed.y=x},checkBallCollision:function(e,t){var n=t.current.position.x-e.current.position.x,r=t.current.position.y-e.current.position.y;if(Math.sqrt(n*n+r*r)<1){var o=Math.atan2(e.current.speed.y,e.current.speed.x),a=Math.atan2(t.current.speed.y,t.current.speed.x),i=Math.sqrt(e.current.speed.x*e.current.speed.x+e.current.speed.y*e.current.speed.y),c=Math.sqrt(t.current.speed.x*t.current.speed.x+t.current.speed.y*t.current.speed.y),s=Math.atan2(r,n),u=2*c*Math.cos(a-s)/2*Math.cos(s)+i*Math.sin(o-s)*Math.cos(s+Math.PI/2),p=2*c*Math.cos(a-s)/2*Math.sin(s)+i*Math.sin(o-s)*Math.sin(s+Math.PI/2),l=2*i*Math.cos(o-s)/2*Math.cos(s)+c*Math.sin(a-s)*Math.cos(s+Math.PI/2),d=2*i*Math.cos(o-s)/2*Math.sin(s)+c*Math.sin(a-s)*Math.sin(s+Math.PI/2);e.current.position.x=t.current.position.x-Math.round(1e3*Math.cos(s))/1e3,e.current.position.y=t.current.position.y-Math.round(1e3*Math.sin(s))/1e3,e.current.speed.x=u,e.current.speed.y=p,t.current.speed.x=l,t.current.speed.y=d}},checkTableCollision:function(e){var t=A.tableDimensions;(e.current.position.x+1>t.topRight.x||e.current.position.x-1<t.topLeft.x)&&(e.current.speed.x*=-1),(e.current.position.y+1>t.topRight.y||e.current.position.y-1<t.bottomRight.y)&&(e.current.speed.y*=-1),(e.current.position.x-1.3<t.topLeft.x&&e.current.position.y+1.3>t.topLeft.y||e.current.position.x+1.3>t.topRight.x&&e.current.position.y+1.3>t.topRight.y||e.current.position.x-1.3<t.bottomLeft.x&&e.current.position.y-1.3<t.bottomLeft.y||e.current.position.x+1.3>t.bottomRight.x&&e.current.position.y-1.3<t.bottomRight.y||e.current.position.x-.5<t.topLeft.x&&e.current.position.y<1.2&&e.current.position.y>-1.2||e.current.position.x+.5>t.topRight.x&&e.current.position.y<1.2&&e.current.position.y>-1.2)&&function(e){e.current.speed.x=0,e.current.speed.y=0,38!=e.current.id?e.current.position.set(0,28,0):e.current.position.set(0,-16,0)}(e)},moveBall:function(e,t,n){e.current.speed.x*=1-n*t,e.current.speed.y*=1-n*t;var r=e.current.speed.x*t,o=e.current.speed.y*t;e.current.position.set(e.current.position.x+r,e.current.position.y+o,0);var a=new k.Matrix4;a.makeRotationAxis(new k.Vector3(0,1,0),r/.5),a.multiply(e.current.matrix),e.current.matrix=a,(a=new k.Matrix4).makeRotationAxis(new k.Vector3(1,0,0),-o/.5),a.multiply(e.current.matrix),e.current.matrix=a,e.current.rotation.setFromRotationMatrix(e.current.matrix)}},G=function(e,t,n,r){D.shoot(1,t,e,n,r)},F=n(24),H=n.n(F),W=n(25),Y=n.n(W),q=n(26),X=n.n(q),_=n(27),J=n.n(_),N=n(28),K=n.n(N),Q=n(29),Z=n.n(Q),$=n(30),ee=n.n($),te=n(31),ne=n.n(te),re=n(32),oe=n.n(re),ae=n(33),ie=n.n(ae),ce=n(34),se=n.n(ce),ue=n(35),pe=n.n(ue),le=n(36),de=n.n(le),fe=n(37),me=n.n(fe),he=n(38),be=n.n(he),xe=n(39),ge=n.n(xe);var ye=function(e){var t=e.coeff,n=Object(r.useRef)(),a=Object(r.useRef)(),i=Object(r.useRef)(),c=Object(r.useRef)(),s=Object(r.useRef)(),u=Object(r.useRef)(),l=Object(r.useRef)(),d=Object(r.useRef)(),f=Object(r.useRef)(),m=Object(r.useRef)(),h=Object(r.useRef)(),b=Object(r.useRef)(),x=Object(r.useRef)(),g=Object(r.useRef)(),y=Object(r.useRef)(),R=Object(r.useRef)(),v=Object(r.useRef)(),w=Object(r.useRef)(),E=[i,c,s,u,l,d,f,m,h,b,x,g,y,R,v,w],M=Object(p.e)(),j=M.camera,O=M.gl;return O.setClearColor(1381653,1),O.shadowMap.enabled=!1,j.fov=45,j.aspect=window.innerWidth/window.innerHeight,j.near=-150,j.far=1e3,j.up.set(0,1,1),j.position.set(0,-.29,40),document.addEventListener("dblclick",(function(){return console.log(j)})),o.a.useEffect((function(){return document.addEventListener("dblclick",(function(e){console.log(e),G(e,a.current.cueBallRef,j,i)})),document.addEventListener("touchstart",(function(e){console.log(e),G(e,a.current.cueBallRef,j,i)})),function(){document.removeEventListener("dblclick",G),document.removeEventListener("touchstart",G)}}),[a]),Object(p.c)((function(e,r){for(var o=60*r,a=0;a<16;a+=1){for(var i=0;i<16;i+=1)E[a]!==E[i]&&D.checkBallCollision(E[a],E[i]);D.checkTableCollision(E[a],n),D.moveBall(E[a],o,t)}})),o.a.createElement(o.a.Fragment,null,A.pointLightPositions.map((function(e,t){var n=t;return o.a.createElement(L,{key:n,type:"PointLight",color:16777215,intensity:.4,distance:100,position:e,castShadow:!0})})),o.a.createElement(L,{type:"AmbientLight",color:16777215,intensity:.2,position:[0,0,0]}),o.a.createElement(B,{setRef:n}),o.a.createElement("object3D",null,o.a.createElement(z,{setRef:i,position:[0,-16,0],textureURL:H.a}),o.a.createElement(z,{setRef:c,position:[-1.01,15,0],textureURL:Y.a}),o.a.createElement(z,{setRef:s,position:[1.01,17,0],textureURL:X.a}),o.a.createElement(z,{setRef:u,position:[-.51,16,0],textureURL:J.a}),o.a.createElement(z,{setRef:l,position:[-1.01,17,0],textureURL:K.a}),o.a.createElement(z,{setRef:d,position:[-2.02,17,0],textureURL:Z.a}),o.a.createElement(z,{setRef:f,position:[1.53,16,0],textureURL:ee.a}),o.a.createElement(z,{setRef:m,position:[.51,14,0],textureURL:ne.a}),o.a.createElement(z,{setRef:h,position:[0,15,0],textureURL:oe.a}),o.a.createElement(z,{setRef:b,position:[0,13,0],textureURL:ie.a}),o.a.createElement(z,{setRef:x,position:[.51,16,0],textureURL:se.a}),o.a.createElement(z,{setRef:g,position:[2.02,17,0],textureURL:pe.a}),o.a.createElement(z,{setRef:y,position:[-.51,14,0],textureURL:de.a}),o.a.createElement(z,{setRef:R,position:[0,17,0],textureURL:me.a}),o.a.createElement(z,{setRef:v,position:[-1.53,16,0],textureURL:be.a}),o.a.createElement(z,{setRef:w,position:[1.01,15,0],textureURL:ge.a})),o.a.createElement(I,{setRef:a,cueRef:i&&i,position:i.current&&[i.current.position.x,i.current.position.y,i.current.position.z]}))},Re=n(40);Object(p.b)({OrbitControls:Re.a});var ve=function(e){var t=Object(r.useRef)(),n=Object(p.e)(),a=n.camera,i=n.gl;return Object(p.d)((function(){return t.current.update()})),o.a.createElement("orbitControls",Object.assign({ref:t,args:[a,i.domElement]},e))};function we(){var e=Object(s.a)(["\n  position: absolute;\n  top: ",";\n  right: 64px;\n  height: 24px;\n  background: lightcoral;\n  color: white;\n  padding: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  z-index: 1000;\n\n  :hover {\n    box-shadow: 2px 2px 2px white;\n  }\n"]);return we=function(){return e},e}var Ee=u.b.div(we(),(function(e){return e.top&&e.top}));function Me(e){var t=e.top,n=e.text,r=e.handler;return o.a.createElement(Ee,{top:t,onClick:r},n)}Me.defaultProps={top:"64px",text:"",handler:function(){}};var je=n(41),Oe=n.n(je);var Le=function(){var e=Object(r.useState)(.01),t=Object(c.a)(e,2),n=t[0];return t[1],o.a.createElement(o.a.Fragment,null,o.a.createElement(b,null,o.a.createElement(ye,{coeff:n}),o.a.createElement(ve,{enableRotate:!1,enablePan:!1,maxDistance:100,minDistance:5,minPolarAngle:Math.PI/6,maxPolarAngle:Math.PI/2})),o.a.createElement("a",{href:"https://github.com/Gui1949/billiards-mobile",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(h,{src:Oe.a})))};i.a.render(o.a.createElement(o.a.Fragment,null,o.a.createElement(m,null),o.a.createElement(Le,null)),document.getElementById("root"))}]),[[44,1,2]]]);
//# sourceMappingURL=main.eea0f1f4.chunk.js.map